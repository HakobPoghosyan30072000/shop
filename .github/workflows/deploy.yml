name: Deploy to Vercel

on:
push:
branches:
- main

jobs:
deploy:
runs-on: ubuntu-latest

```
defaults:
  run:
    working-directory: dashboard

steps:
  - name: Checkout repository
    uses: actions/checkout@v4

  - name: Setup Node.js
    uses: actions/setup-node@v4
    with:
      node-version: 20
      cache: "yarn"
      cache-dependency-path: "dashboard/yarn.lock"

  - name: Install dependencies
    run: yarn install --frozen-lockfile

  - name: Build project
    run: yarn build

  - name: Deploy to Vercel
    run: |
      npx vercel deploy \
        --prod \
        --token ${{ secrets.VERCEL_TOKEN }} \
        --org ${{ secrets.VERCEL_ORG_ID }} \
        --project ${{ secrets.VERCEL_PROJECT_ID }} \
        --yes
```